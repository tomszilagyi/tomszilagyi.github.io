<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Tom Szilagyi">
<title>Dumpsterl User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Dumpsterl User Guide</h1>
<div class="details">
<span id="author" class="author">Tom Szilagyi</span><br>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of <strong>dumpsterl</strong> is to provide a powerful, extensible and
user-friendly framework for data exploration in NoSQL environments.</p>
</div>
<div class="paragraph">
<p>Besides the material in this guide, there is also
<a href="../ds.html">API documentation</a>.</p>
</div>
<div class="paragraph">
<p>Further resources are listed on the
<a href="../overview-summary.html">Overview page</a>.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_getting_started">1. Getting started</a>
<ul class="sectlevel2">
<li><a href="#_required_versions_and_environments">1.1. Required versions and environments</a></li>
<li><a href="#_known_limitations">1.2. Known limitations</a></li>
<li><a href="#_obtaining_and_compiling_dumpsterl">1.3. Obtaining and compiling dumpsterl</a></li>
<li><a href="#_first_steps_with_dumpsterl">1.4. First steps with dumpsterl</a>
<ul class="sectlevel3">
<li><a href="#_run_dumpsterl_in_an_empty_erlang_node">1.4.1. Run dumpsterl in an empty Erlang node</a></li>
<li><a href="#_try_dumpsterl_with_the_included_test_database">1.4.2. Try dumpsterl with the included test database</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_using_dumpsterl">2. Using dumpsterl</a>
<ul class="sectlevel2">
<li><a href="#_running_dumpsterl_on_your_live_system">2.1. Running dumpsterl on your live system</a>
<ul class="sectlevel3">
<li><a href="#_including_dumpsterl_among_your_erlang_applications">2.1.1. Including dumpsterl among your Erlang applications</a></li>
<li><a href="#_loading_dumpsterl_from_an_external_location">2.1.2. Loading dumpsterl from an external location</a></li>
<li><a href="#_running_the_probe_on_raw_mnesia_table_files">2.1.3. Running the probe on raw Mnesia table files</a>
<ul class="sectlevel4">
<li><a href="#__code_dat_code_files"><code>.DAT</code> files</a></li>
<li><a href="#__code_dcd_code_files"><code>.DCD</code> files</a></li>
</ul>
</li>
<li><a href="#_inspecting_the_result">2.1.4. Inspecting the result</a></li>
</ul>
</li>
<li><a href="#api-examples">2.2. API examples</a>
<ul class="sectlevel3">
<li><a href="#_probe_api">2.2.1. Probe API</a>
<ul class="sectlevel4">
<li><a href="#_probing_synchronously_with_code_ds_spec_3_4_code">Probing synchronously with <code>ds:spec/3,4</code></a></li>
<li><a href="#_probing_asynchronously_with_code_ds_probe_3_4_code">Probing asynchronously with <code>ds:probe/3,4</code></a></li>
</ul>
</li>
<li><a href="#_spec_api">2.2.2. Spec API</a>
<ul class="sectlevel4">
<li><a href="#_building_raw_specs">Building &#8220;raw&#8221; specs</a></li>
<li><a href="#_post_processing_the_spec">Post-processing the spec</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_the_type_system_of_dumpsterl">3. The type system of dumpsterl</a>
<ul class="sectlevel2">
<li><a href="#_kinds_a_k_a_meta_types">3.1. Kinds, a.k.a. meta-types</a></li>
<li><a href="#spec">3.2. The spec</a>
<ul class="sectlevel3">
<li><a href="#_data_in_the_spec_nodes">3.2.1. Data in the spec nodes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_developer_information">4. Developer information</a>
<ul class="sectlevel2">
<li><a href="#_testing">4.1. Testing</a></li>
<li><a href="#_modules_and_call_dependencies">4.2. Modules and call dependencies</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">1. Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dumpsterl is designed to be simple, clear and easy to use. Getting it
up and running on your system  should not take more than a couple of
minutes.</p>
</div>
<div class="sect2">
<h3 id="_required_versions_and_environments">1.1. Required versions and environments</h3>
<div class="paragraph">
<p>Dumpsterl is currently tested on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Erlang/OTP major releases starting with R16B;</p>
</li>
<li>
<p>running on contemporary Linux machines.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Older Erlang/OTP releases will not be covered. New major releases will
be added to the testing pipeline as they become available.</p>
</div>
<div class="paragraph">
<p>The list of operating systems will certainly be extended; the backend
systems that inspired the creation of dumpsterl run on Linux. However,
there should be nothing fundamentally stopping dumpsterl to run on any
other system where Erlang/OTP itself is supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_known_limitations">1.2. Known limitations</h3>
<div class="paragraph">
<p>The current version of dumpsterl comes with a few limitations that are
not inherent to the concept, and are planned to be resolved in future
versions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The dumpsterl shell does not support inputting complex Erlang
expressions such as funs. For this reason, setting the field and
attribute specs to values other than an integer or a list of
integers is not possible. The Erlang syntax of referring to a record
field via <code>#Record.Field</code> is also not supported here. Note that all
these are perfectly working via the Probe API, so if you need these
features, please use that API. Examples are provided in the
<a href="#_probe_api">Probe API</a> section.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_obtaining_and_compiling_dumpsterl">1.3. Obtaining and compiling dumpsterl</h3>
<div class="paragraph">
<p>In a suitable location, clone the source repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git clone https://github.com/tomszilagyi/dumpsterl</pre>
</div>
</div>
<div class="paragraph">
<p>Enter your local repo and compile the project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cd dumpsterl
$ make</pre>
</div>
</div>
<div class="paragraph">
<p>Optionally, if you want to run some tests to verify your installation,
you may run one of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ make eunit <i class="conum" data-value="1"></i><b>(1)</b>
$ make check <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>EUnit tests (quick!)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>EUnit tests, Common Test suites and Dialyzer (sloooow!)</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_first_steps_with_dumpsterl">1.4. First steps with dumpsterl</h3>
<div class="paragraph">
<p>Before using dumpsterl on a system with real data, it is a good idea
to get your feet wet in a safe environment.</p>
</div>
<div class="sect3">
<h4 id="_run_dumpsterl_in_an_empty_erlang_node">1.4.1. Run dumpsterl in an empty Erlang node</h4>
<div class="paragraph">
<p>Now you are ready to run dumpsterl. You typically want to run it in an
already existing &#8220;host system&#8221; where dumpsterl has access to your
data, but first let&#8217;s run it in a separate, bare-bones Erlang node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ make shell
Eshell ...
1&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Now you have an Erlang shell with dumpsterl loaded. You can start the
dumpsterl shell right away:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1&gt; ds:shell().

Dumpsterl interactive probe shell.
Type 'quit' + &lt;enter&gt; to get back to the Erlang shell;
     'help' + &lt;enter&gt; to get help.

ds =&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>That is our prompt --- let&#8217;s try <code>help</code> right away:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ds =&gt; help

Commands:
  help [&lt;command|param|option&gt;]
      Type 'help help' for useful pointers.
  show [&lt;param|option&gt; ...]
      params: type table field attrs options
      options: dump hll_b limit mnesia_dir procs progress rec_attrs samples term
  set &lt;param|option&gt; &lt;value&gt;
      See above for params and options.
  run
  stop
  gui [&lt;dumpfile&gt;]
  quit</pre>
</div>
</div>
<div class="paragraph">
<p>As the above output suggests, the command <code>show</code> displays all the
currently set configuration values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ds =&gt; show
    params:
    -------
      type: ets
     table: file_io_servers
     field: 0
     attrs: []

   options:
   --------
      dump: "ds.bin"
     hll_b: 8
     limit: 1000
mnesia_dir: undefined
     procs: 4
  progress: 0.5
 rec_attrs: true
   samples: 16
      term: "vt100"</pre>
</div>
</div>
<div class="paragraph">
<p>In case you haven&#8217;t noticed yet, there is TAB completion in this
shell, which expands commands, parameters, options and even (to a
limited extent) valid input values for several <code>set</code> command subtypes
(including table names)!</p>
</div>
<div class="paragraph">
<p>Feel free to explore the shell from here. Hint: there is online help
(which you can read by typing <code>help &lt;keyword&gt;</code>) for everything; type
<code>help all</code> to read it all. You can also find the output of this
command <a href="../shell_ref.txt">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_try_dumpsterl_with_the_included_test_database">1.4.2. Try dumpsterl with the included test database</h4>
<div class="paragraph">
<p>Dumpsterl comes with a test suite, and as part of that, a test data
generator. This generator creates synthetic test data in either of the
database formats supported by dumpsterl, so all of those can be tested
interactively.</p>
</div>
<div class="paragraph">
<p>Since this is part of the test code that comes with dumpsterl, the
source needs to be recompiled with the test code also included. The
quickest way to do this is to run the EUnit tests. This triggers a
rebuild of the source with the test code compiled in. When that is
done, start a shell just as before. Finally, the code path must be set
up so the test-only modules will be found by the Erlang module loader.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ make eunit
$ make shell
1&gt; code:add_patha("test").</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use the function <code>ds_testdb:generate/1</code> to create a test
database. Test data generated manually will be put under <code>test/data</code>.
Let&#8217;s create test databases for each supported table type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:generate(mnesia).
&gt; ds_testdb:generate(ets).
&gt; ds_testdb:generate(dets).
&gt; ds_testdb:generate(disk_log).</pre>
</div>
</div>
<div class="paragraph">
<p>These will produce console output stating the names of the tables
created, and populate them with 675,000 records. If you wish to change
the names of the tables or specify the number of records, use these
extended forms:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:generate(mnesia, mytable_mnesia, 10000).
&gt; ds_testdb:generate(ets, mytable_ets, 10000).
&gt; ds_testdb:generate(dets, mytable_dets, 10000).
&gt; ds_testdb:generate(disk_log, mytable_disk_log, 10000).</pre>
</div>
</div>
<div class="paragraph">
<p>Please note that you cannot create a mnesia and an ets test table with
the same name, because they will clash. This happens because under the
hood, the mnesia table uses an ets table with the same name.</p>
</div>
<div class="paragraph">
<p>Once you have some test tables generated, you can run dumpsterl on
them either automatically in a pre-defined way (this is useful for
testing purposes) or interactively.</p>
</div>
<div class="paragraph">
<p>To spec the test tables (shown for the mnesia table type, but similar
for the others as well):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:spec(mnesia).</pre>
</div>
</div>
<div class="paragraph">
<p>This will run the probe with some pre-defined parameters on the table
generated by <code>ds_testdb:generate/1</code>. An extended form allows you to
supply the custom table as well as a set of attribute names (the test
code knows the complete attribute definitions). The list of attribute
names may contain none, both, or either of <code>key</code> and <code>ts</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:spec(mnesia, mytable_mnesia, [key, ts]).</pre>
</div>
</div>
<div class="paragraph">
<p>A spec dump file will be created with a predefined name. To open the
GUI on this spec dump, simply call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:gui(mnesia).</pre>
</div>
</div>
<div class="paragraph">
<p>Or, in case of a custom table name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds_testdb:gui(mnesia, mytable_mnesia).</pre>
</div>
</div>
<div class="paragraph">
<p>Now you should see the GUI of dumpsterl, similar to the following
image:</p>
</div>
<div class="paragraph">
<div class="title">Dumpsterl GUI</div>
<p><span class="image"><img src="images/dumpsterl_gui.png" alt="dumpsterl gui"></span></p>
</div>
<div class="paragraph">
<p>If you see a similar window, congratulations! You have dumpsterl up
and running. Feel free to click and browse around!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can increase the GUI font size with <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>+</kbd></span> and decrease it
with <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>-</kbd></span>.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">The GUI in a nutshell</div>
<div class="paragraph">
<p>The GUI allows you to browse the spec and make sense of it. In the top
left quadrant, there is a list titled &#8220;Stack&#8221; showing the path down
to the currently selected node (drawn with a solid blue background) in
the type hierarchy. Each list item refers to a level in the type
hierarchy, with the root type node at the top and each subsequent item
referring to a child node of the item above.</p>
</div>
<div class="paragraph">
<p>In the stack, attributes of generic types are prefixed with an
indication of the attribute, e.g. the element type of the list is
prefixed with <code>[items]:</code> and a prefix of <code>[E2]:</code> means that the
current stack node is element 2 of the parent node (a tuple in this
case). If there is no such prefix before the type, then this type is
simply a subtype of its parent, a wider non-generic type.</p>
</div>
<div class="paragraph">
<p>To navigate upwards in the tree, simply click on any of the stack
items above the currently selected one.</p>
</div>
<div class="paragraph">
<p>In the lower left corner we see the children of the current node. By
clicking on any of them, we follow that child to get one level deeper
down in the stack. If we are at a union or ordinary type, these are
alternative subtypes of the current type. In this case the list has
the caption &#8220;Alternatives&#8221;. If we are looking at a generic type,
like a tuple, a record, a map or a list, the list shows the type
attributes of the current type with the caption &#8220;Attributes&#8221;.</p>
</div>
<div class="paragraph">
<p>On the right, a detailed report of the current type node is
shown. First of all, a full type declaration in Erlang type syntax is
printed. This shows the type structure of the data.</p>
</div>
<div class="paragraph">
<p>Next, we get the count and cardinality of terms absorbed by the
node. By cardinality we mean an estimate of the number of different
unique values seen here. So we can tell if it is likely to be a unique
value, or a factor with a few possible values.</p>
</div>
<div class="paragraph">
<p>We also want to see actual samples of the data, because that is what
helps our intuition kick in. It&#8217;s a list of strings, but is it a list
of usernames or a list of goods items? The samples are collected by a
statistically sound algorithm, so we can make valid judgements based
on them.</p>
</div>
<div class="paragraph">
<p>There are further optional elements depending on the type and the set
of attributes present. For example, if there are timestamps associated
with the values, we get a graph titled &#8220;Timeline of sampled values&#8221;.
This graph shows the temporal extent of each sampled value.  Also,
histograms are generated for lists and bitstrings (binaries) to show
the length (size) distribution across the population. These histograms
are based on all the data absorbed by this node, not just the ones
sampled and thus explicitly listed in the report above.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Now that there are a few tables with some complex data to play with,
you can also start the interactive shell and play around in there:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds:shell().

Dumpsterl interactive probe shell.
Type 'quit' + &lt;enter&gt; to get back to the Erlang shell;
     'help' + &lt;enter&gt; to get help.

collecting record attributes from 126 loaded modules ... read 121 records.
collecting record attributes from test/data/db/schema.DAT ... read 2 records.
installed attributes for 122 records.
ds =&gt; set type mnesia
      type: mnesia

ds =&gt; set table mytable_mnesia
     table: mytable_mnesia

ds =&gt; set limit infinity
     limit: infinity

ds =&gt; set attrs [{key,2}, {ts,3}]
     attrs: [{key,2},{ts,3}]

ds =&gt; show
    params:
    -------
      type: mnesia
     table: mytable_mnesia
     field: 0
     attrs: [{key,2},{ts,3}]

   options:
   --------
      dump: "ds.bin"
     hll_b: 8
     limit: infinity
mnesia_dir: "test/data/db"
     procs: 4
  progress: 0.5
 rec_attrs: true
   samples: 16
      term: "vt100"

ds =&gt; run

running probe on 4 parallel processes.
processed 10,000 in 3.9 (2.59k records/sec)
spec dump: 875,166 bytes written to ds.bin
probe finished.

ds =&gt; gui</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_dumpsterl">2. Using dumpsterl</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_running_dumpsterl_on_your_live_system">2.1. Running dumpsterl on your live system</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">DISCLAIMER</div>
<div class="paragraph">
<p>Dumpsterl comes with ABSOLUTELY NO WARRANTY. Please proceed ONLY if
you are confident that dumpsterl will not harm your data. A good way
to gain that confidence is to audit the sources of dumpsterl and make
sure that it does not contain any calls that would delete or alter
data in any of your databases. Regardless of that, ALWAYS HAVE
BACKUPS. By proceeding, you accept that the authors of dumpsterl are
exempt from any liability with regard to any possible consequences.
Use dumpsterl exclusively AT YOUR OWN RISK.</p>
</div>
<div class="paragraph">
<p>If possible, use your secondary (staging, backup, hot-backup, etc.)
system instead of the one that actually handles live traffic.
Dumpsterl can easily inflict a large amount of CPU load on the system,
so you probably do not want to do this on your real production
machine. If you still decide to do that, make sure to set the <code>procs</code>
option to a safely low value.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are two ways to use dumpsterl with a production-like system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Include the <code>dumpsterl</code> application in your Erlang release;</p>
</li>
<li>
<p>Load the BEAM files of an externally compiled <code>dumpsterl</code> into your
running system.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_including_dumpsterl_among_your_erlang_applications">2.1.1. Including dumpsterl among your Erlang applications</h4>
<div class="paragraph">
<p>If you have a complete Erlang system (consisting of several
applications arranged as an Erlang/OTP release), you might find it
convenient to simply add dumpsterl to your applications. Depending on
your setup, adding dumpsterl as a git subrepo might be convenient.</p>
</div>
<div class="paragraph">
<p>Dumpsterl is built with the <a href="https://erlang.mk">erlang.mk</a> build
tool. This practically means that building it is a matter of issuing
<code>make</code>, perhaps with some useful targets such as <code>test</code> and <code>clean</code>.
If you have a recursive make-driven build system for the whole
release, this makes it very simple to add dumpsterl.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loading_dumpsterl_from_an_external_location">2.1.2. Loading dumpsterl from an external location</h4>
<div class="paragraph">
<p>You might not want to add dumpsterl as a regular application to your
Erlang system. In this case a good method is to obtain and compile
dumpsterl in a separate directory (just as shown at the beginning of
this chapter). Once the application is compiled, you simply add its
path to your running host system&#8217;s set of code load paths.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s assume that we have a system running at
<code>/huge/erlang/system</code>. This is a production system that is already
deployed and running. We don&#8217;t have the option to modify it by adding
applications. We can still inspect it with dumpsterl using the
following commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cd /tmp
$ git clone https://github.com/tomszilagyi/dumpsterl
(git output omitted)
$ cd dumpsterl
$ make</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Please make sure that the Erlang version you use to compile dumpsterl
is the same as the version your system is running with. Since you are
on the same host, this should be easy, but worth keeping in mind.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now, go to your system&#8217;s Erlang (remote) console and add the dumpsterl
BEAM path to the code path. This makes dumpsterl usable on your
system, which you can verify by starting the interactive shell.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1&gt; code:add_pathz("/tmp/dumpsterl/ebin").
2&gt; ds:shell().

Dumpsterl interactive probe shell.
Type 'quit' + &lt;enter&gt; to get back to the Erlang shell;
     'help' + &lt;enter&gt; to get help.

collecting record attributes from 953 loaded modules ... read 1259 records.
collecting record attributes from /huge/erlang/system/db/schema.DAT ... read 181 records.
installed attributes for 1260 records.

ds =&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>You should recognize the database path in the above output. If you
have a huge amount of loaded code, the above output will take a few
seconds to appear, so don&#8217;t worry.</p>
</div>
</div>
<div class="sect3">
<h4 id="_running_the_probe_on_raw_mnesia_table_files">2.1.3. Running the probe on raw Mnesia table files</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The features described in this section come with a number of caveats,
so make sure you read everything and thoroughly understand the
tradeoffs you are making before attempting any of these &#8220;dirty&#8221;
methods. <em>The usual disclaimers apply doubly here!</em></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dumpsterl supports directly reading the raw table files backing Mnesia
tables. This capability is useful mostly if you do not have a running
Mnesia instance on the Erlang node that runs the probe. Note, however,
that the modules of your system should still be loaded, so that the
probe can gather all the record attributes referenced by the data.</p>
</div>
<div class="paragraph">
<p>Mnesia stores the data in different files under its database
directory. The data of each table is stored in one or more files named
after the table. The extension of the files indicates the file type
that corresponds to the <code>storage_type</code> of the table:</p>
</div>
<div class="sect4">
<h5 id="__code_dat_code_files"><code>.DAT</code> files</h5>
<div class="paragraph">
<p>Each <code>.DAT</code> file contains a regular DETS table that can be directly
read by the dumpsterl probe via setting the parameter <code>type</code> to <code>dets</code>
and the <code>table</code> to the filename of the <code>.DAT</code> file. The performance
gain of skipping Mnesia is usually negligible, as iterating through a
DETS table is generally quite slow.</p>
</div>
<div class="paragraph">
<p>For each <code>ram_copies</code> table, Mnesia keeps a backup in a <code>.DAT</code> file.
The table might be written by a running Mnesia at any time (the user
can request this via <code>mnesia:dump_tables/1</code>). However, chances are
good that the backup was last overwritten with the then-latest table
contents last time Mnesia was stopped. So it might not be a good idea
to work around Mnesia for a <code>ram_copies</code> table; the on-disk backup
might be seriously out of date.</p>
</div>
<div class="paragraph">
<p>The same kind of <code>.DAT</code> file is present also for <code>disc_only_copies</code>
tables.  Naturally, this file is always up-to-date with the table
contents.  Whether or not you want to touch a table file kept open by
a running Mnesia instance is an entirely different question.  If you
have the option to stop Mnesia, we strongly recommend that you do so.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Reading a DETS table file kept open by Mnesia might result in an
exception within the probe similar to this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=ERROR REPORT==== 22-May-2017::15:22:38 ===
Error in process &lt;0.3414.0&gt; with exit value: {{badmatch,{error,{needs_repair,"test/data/db/widget_disconly.DAT"}}},[{ds_probe,open_dets_table,1,[{file,"src/ds_probe.erl"},{line,277}]},{ds_probe,init_fold,2,[{file,"src/ds_probe.erl"},{line,190}]},{ds_probe,spec,3,[{file,"...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the <code>{needs_repair, Filename}</code> part.</p>
</div>
<div class="paragraph">
<p>If this happens, DON&#8217;T PANIC. Your data is safe. It&#8217;s only that the
DETS file is not properly closed yet (which is OK, since mnesia keeps
it open), therefore dumpsterl can&#8217;t open it for reading.  You just
have to find another way to access the table&#8201;&#8212;&#8201;the easiest is to just
go via <code>mnesia</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="__code_dcd_code_files"><code>.DCD</code> files</h5>
<div class="paragraph">
<p>For <code>disc_copies</code> tables, a pair of <code>.DCD</code> and <code>.DCL</code> files are
usually found, although the <code>.DCL</code> is not always present. These files
are <code>disk_log</code> files (accessible via the Erlang module with the same
name, part of the <code>kernel</code> application). The files have different
internal formats. A <code>.DCD</code> file holds the contents of a table at a
certain point in time as a stream of records corresponding to table
rows. The accompanying <code>.DCL</code> contains the &#8220;database log&#8221; with
entries describing changes (inserts, deletes, updates) relative to the
snapshot in the <code>.DCD</code>.</p>
</div>
<div class="paragraph">
<p>Dumpsterl supports directly reading the <code>.DCD</code>, but not the
<code>.DCL</code>. Reading the <code>.DCD</code> of a table skips all the overhead of going
through Mnesia. It also yields much better probe parallelization
(utilizing a larger number of cores, if you have them), because the
<code>disk_log</code> is read very efficiently, in chunks that typically contain
hundreds of rows. All you need to do is set the parameter <code>type</code> to
<code>disk_log</code> and the <code>table</code> to the filename of the <code>.DCD</code> file. Note
that in contrast to reading the file backing an opened DETS table,
this should always work!</p>
</div>
<div class="paragraph">
<p>The obvious downside is that the changes already accumulated in the
<code>.DCL</code> log will not be taken into account. Simply put, you are not
looking at the latest data. In practice, this usually means that the
probe will have missed a small percentage of newly inserted records or
changes to existing records. The effect is usually negligible if you
want to get a general idea of the data in the table, but might be a
problem if you are after the latest changes. In that case, there is
another option to avoid going through mnesia: set <code>type</code> to <code>ets</code> and
read the ets table with the same name.</p>
</div>
<div class="paragraph">
<p>The following transcript shows setting up and running the probe on the
<code>.DCD</code> of our synthetically generated mnesia test table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; ds:shell().

Dumpsterl interactive probe shell.
Type 'quit' + &lt;enter&gt; to get back to the Erlang shell;
     'help' + &lt;enter&gt; to get help.

collecting record attributes from 170 loaded modules ... read 205 records.
collecting record attributes from test/data/db/schema.DAT ... read 2 records.
installed attributes for 206 records.
ds =&gt; set type disk_log
      type: disk_log

ds =&gt; set table "test/data/db/widget_mnesia.DCD"
     table: "test/data/db/widget_mnesia.DCD"

ds =&gt; set limit infinity
     limit: infinity

ds =&gt; set attrs [{key,2}, {ts,3}]
     attrs: [{key,2},{ts,3}]

ds =&gt; run

running probe on 4 parallel processes.
processed 638,716 in 4:01.7 (2.64k records/sec), dumped 1,021,090 bytes
spec dump: 1,053,643 bytes written to ds.bin
probe finished.</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As seen above, we managed to read 638,716 records of the total 675,000
in the mnesia table of our generated test database. In our case, the
last 5% of all inserted rows did not reach the probe. Your case will
probably differ due to different mnesia access patterns.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This section showed how to use the <code>dets</code> and <code>disk_log</code> table types
to peek into the raw files backing mnesia tables. Naturally, you are
free to use these table types to read any other DETS table or disk_log
file!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inspecting_the_result">2.1.4. Inspecting the result</h4>
<div class="paragraph">
<p>On a live system, you don&#8217;t want to run the GUI at all. To inspect the
results, take the dump file generated by the probe and examine it on
your local machine. In the above example, let&#8217;s say that we were
running the Erlang remote shell with the working directory at
<code>/huge/erlang/system</code>; all dump files, if we didn&#8217;t include a path in
their name, will be found in that directory.</p>
</div>
<div class="paragraph">
<p>Copy the dump to your local machine (we assume it was written to its
default filename):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>joe@desktop:~/src/dumpsterl$ scp hugesys:/huge/erlang/system/ds.bin .
(output omitted)
joe@desktop:~/src/dumpsterl$ make shell
Eshell (abort with ^G)
1&gt; ds:gui().</pre>
</div>
</div>
<div class="paragraph">
<p>And there you go&#8201;&#8212;&#8201;inspect and browse the spec to your liking!
Optionally, if you have a different filename, pass it as an argument
to <code>ds:gui/1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1&gt; ds:gui("ds_hugesystem_mytable_full.bin").</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="api-examples">2.2. API examples</h3>
<div class="paragraph">
<p>For your inspiration, this section contains some basic usage
examples of the lower level APIs. These can be used for manual work in
the Erlang shell, but also open the door towards automating/scripting
the process of collecting specs. The below examples work on the test
database introduced earlier in this guide; adapt them to suit your own
use.  Please also refer to the <a href="../ds.html">API documentation</a>.</p>
</div>
<div class="paragraph">
<p>All code examples in this chapter show commands to be run in the
Erlang shell. For ease of copy-pasting them, the Erlang shell prompt
marker <code>&gt;</code> has been omitted from them.</p>
</div>
<div class="sect3">
<h4 id="_probe_api">2.2.1. Probe API</h4>
<div class="paragraph">
<p>The probe API offers an Erlang interface to spec tables. The same
probe will be run as if you had set up everything via the dumpsterl
probe shell, but this API makes it possible to automate things.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In this section we show field spec syntax that can only be passed to
the probe via the Probe API. The dumpsterl shell currently does not
support inputting these via the <code>set field</code> command; only integers and
lists of integers are supported there. This limitation will be fixed
in a future release of dumpsterl.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_probing_synchronously_with_code_ds_spec_3_4_code">Probing synchronously with <code>ds:spec/3,4</code></h5>
<div class="paragraph">
<p>The functions <code>ds:spec/3,4</code> run the probe in a synchronous
manner. This means that the caller gets blocked while the probe runs,
and receives the spec as return value when the probe is done.</p>
</div>
<div class="listingblock">
<div class="title">Spec a certain table field with default options (<code>limit</code> defaults to 1000 records)</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">rr(ds_testdb).
ds:spec(mnesia, widget_mnesia, #widget.ftp).</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, we used the Erlang syntax <code>#Record.Field</code>. This
is syntactic sugar to refer to the field number of the given field,
and requires that the appropriate record definition is loaded into the
Erlang shell. This can be done via the Erlang shell built-in
<code>rr(Module)</code> where <code>Module</code> is a module that includes the record
<code>Record</code> in its source (either directly or via header inclusion).</p>
</div>
<div class="paragraph">
<p>If we would like to spec the whole record found in the table, we just
pass 0 as the field number:</p>
</div>
<div class="listingblock">
<div class="title">Spec the table&#8217;s whole records with default options (<code>limit</code> defaults to 1000 records)</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">ds:spec(mnesia, widget_mnesia, 0).</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above examples, we have not passed any options to the
probe. The default setting for <code>limit</code> is a safely low value, 1000
records. Usually, we want to process a much larger amount of data.  So
we need to raise the <code>limit</code> option setting. In that case it is also a
good idea to see progress output and have dumpsterl write dumps of the
spec (both periodically as it progresses, and a final one at the end).</p>
</div>
<div class="paragraph">
<p>We can set the <code>limit</code> to an arbitrary positive integer, or the atom
<code>infinity</code> to process all the records in the table. We choose the
latter. We also set the progress output to refresh at its default
rate, and turn on the dump:</p>
</div>
<div class="listingblock">
<div class="title">Spec a certain table field for all records, with progress output and dump</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">ds:spec(mnesia, widget_mnesia, #widget.ftp, [{limit, infinity}, progress, dump]).</code></pre>
</div>
</div>
<div class="paragraph">
<p>The options passed as the last argument in the above example are
dumpsterl probe options with a proplist syntax. For the full list and
description of the available options, type <code>help options</code> in the
dumpsterl shell, or look for <code>Options:</code> in the reference stored
<a href="../shell_ref.txt">here</a>.</p>
</div>
<div class="paragraph">
<p>At this point it is worth noting that we received a large Erlang data
structure as the return value of the <code>ds:spec/1</code> function. This is
nothing other than the <strong>spec</strong> itself, the same data that was dumped to
the file <code>ds.bin</code>. This spec can be processed further, but the
simplest thing we can do with it is pass it directly to a newly opened
GUI:</p>
</div>
<div class="listingblock">
<div class="title">Open a GUI on the last return value (spec returned by the probe)</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">ds:gui(v(-1)).</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point you might become interested in one of the fields in this
embedded <code>#ftp{}</code> record. Let&#8217;s say that you are after the <code>email</code>
field, and not interested in anything else. The way forward is to use
a list of chained field specs:</p>
</div>
<div class="listingblock">
<div class="title">Spec a field of an embedded record via a chained field spec</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">ds:spec(mnesia, widget_mnesia, [#widget.ftp, #ftp.email], [{limit, infinity}, progress, dump]).</code></pre>
</div>
</div>
<div class="paragraph">
<p>You might have noticed that the probing process got much faster, since
the data being spec&#8217;d is much simpler. If you have lots of data, it
pays to do some preliminary runs on the whole record with a lower
limit, and select the field of interest.</p>
</div>
<div class="paragraph">
<p>You could have accomplished the same result via a field spec function
doing the same data selection:</p>
</div>
<div class="listingblock">
<div class="title">Spec a field of an embedded record via a field spec function:</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">FieldSpecF = fun(Widget) -&gt; Widget#widget.ftp#ftp.email end,
ds:spec(mnesia, widget_mnesia, FieldSpecF, [{limit, infinity}, progress, dump]).</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is usually slightly slower than the equivalent chained field
spec, so why would you use it? Obviously because it allows you to do
much complex things. Basically, you can perform arbitrary selection of
data. You can also perform filtering, by making the fun crash or throw
on records that you do not want to include.</p>
</div>
<div class="paragraph">
<p>You can also combine this with the chained field spec list; items in
those list can be any valid field spec. So let&#8217;s do something more
complex. We will look at the <code>#ftp.password</code> field, but we are only
interested in those that are strings shorter than 6 characters.
We could do it with a single field spec function, but for the sake of
illustrating the above, let&#8217;s do it with a chained field spec list.</p>
</div>
<div class="listingblock">
<div class="title">Spec a field of an embedded record via a chained field spec containing a fun:</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">f(FieldSpecF),
FieldSpecF = fun(Ftp) -&gt;
                 true = length(Ftp#ftp.password) &lt; 6,  <i class="conum" data-value="1"></i><b>(1)</b>
                 Ftp#ftp.password   <i class="conum" data-value="2"></i><b>(2)</b>
             end,
ds:spec(mnesia, widget_mnesia,
        [#widget.ftp, FieldSpecF],  <i class="conum" data-value="3"></i><b>(3)</b>
        [{limit, infinity}, progress, dump]).</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Make it crash (or throw) to filter out unwanted data.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Return the data to spec.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Chained field spec containing an integer and a fun field spec.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Looking at the console output and a GUI with the resulting spec, you
might have noticed a discrepancy: the probe reported 675,000 records
being processed, but in the GUI, the root <code>nonempty_list</code> only has a
count of about 450,000. The difference is the number of records where
the field spec did not evaluate. The reason in our case is that we
deliberately made it crash for data we were not interested in.</p>
</div>
<div class="paragraph">
<p>Finally, let&#8217;s look at an example of specifying attributes. By looking
at the data, we have deduced that the field <code>#widget.id</code> contains the
table key, and <code>#widget.create_date</code> contains a timestamp when the
data originated. In such a case, it pays to specify these as data
attributes. Going back to our basic example for the <code>#widget.ftp</code>
field, this is how it would look with attributes:</p>
</div>
<div class="listingblock">
<div class="title">Spec a certain table field with attributes</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">ds:spec(mnesia, widget_mnesia,
        {#widget.ftp, <i class="conum" data-value="1"></i><b>(1)</b>
            [{key, #widget.id}, <i class="conum" data-value="2"></i><b>(2)</b>
             {ts, #widget.create_date}]},
        [{limit, infinity}, progress, dump]).</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Field spec</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Attribute specs</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The trick is to pass these attribute specs as a keyed list, included
in a tuple with the field spec. Note that for the attributes, we are
referencing parts of the record outside the actual data we spec (the
<code>#widget.ftp</code> field). This is perfectly fine.</p>
</div>
<div class="paragraph">
<p>Also note that you can add further attributes (apart from <code>key</code> and
<code>ts</code>). Any atom is accepted, and the attribute specs have the same
syntax as the field spec. This means you can pass in a fun that
receives the whole record and comes up with a value for your custom
attribute. In case this fun crashes or throws for a certain record,
your attribute will be missing from the attributes of that record.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Support for the display of custom attributes is currently very limited
in the GUI. However, the attributes are present in the spec, so it is
possible to programmatically examine them.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_probing_asynchronously_with_code_ds_probe_3_4_code">Probing asynchronously with <code>ds:probe/3,4</code></h5>
<div class="paragraph">
<p>The functions <code>ds:probe/3,4</code> take exactly the same options as
<code>ds:spec/3,4</code> that we covered in the previous section. However, by
using these functions, the probe is run in a separate process and the
call immediately returns with a value that can be used to monitor or
stop the probe before completion.</p>
</div>
<div class="paragraph">
<p>This might be useful if you wish to start multiple probes that run in
parallel, or you are not sure that you will wait for the completion of
the probe and prefer to have a clean way to shut it down. However,
these functions do not yield the spec as their return value, as they
return immediately with a <code>{Pid, MonitorRef}</code> tuple. Thus, you will
need to read the spec from the dump file to process the result. If you
run multiple probes, you also need to arrange for different unique
dump filenames.</p>
</div>
<div class="paragraph">
<p>Please refer to the API documentation of
<a href="../ds.html#probe-3"><code>ds:probe/3</code></a> for code examples.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spec_api">2.2.2. Spec API</h4>
<div class="paragraph">
<p>The spec API contains functions to directly create, update and
manipulate the spec data structure. It might be useful for manual
work, or to support databases or other data sources that the probe
currently does not support as table types.</p>
</div>
<div class="sect4">
<h5 id="_building_raw_specs">Building &#8220;raw&#8221; specs</h5>
<div class="paragraph">
<p>To try the following examples, just open a shell with dumpsterl
loaded. The quickest way is to type <code>make shell</code> in the dumpsterl
toplevel directory to get a fresh, stand-alone Erlang node you can
use. Note that the output of the expressions entered in the Erlang
shell is not shown below. If you follow along, you will see the raw
spec data structure returned at each step.</p>
</div>
<div class="listingblock">
<div class="title">Create a spec and add some values (with no attributes)</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">S0 = ds:new().                                        <i class="conum" data-value="1"></i><b>(1)</b>
S1 = ds:add(an_atom, S0).                             <i class="conum" data-value="2"></i><b>(2)</b>
S2 = ds:add(123, S1).                                 <i class="conum" data-value="3"></i><b>(3)</b>
S3 = ds:add([list, with, tuple, {123, self()}], S2).  <i class="conum" data-value="4"></i><b>(4)</b>
ds:gui(S3).                                           <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a new, empty spec.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add an atom.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add an integer.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Add a complex term.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Open a GUI on the result.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have your values in a list, you can use
<a href="../ds.html#add-2"><code>ds:add/2</code></a>
directly as the fold function in <code>lists:foldl/3</code>:</p>
</div>
<div class="listingblock">
<div class="title">Create a spec from a list of values (with no attributes)</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">Data = [ an_atom                                <i class="conum" data-value="1"></i><b>(1)</b>
       , 123
       , [list, with, tuple, {123, self()}]
       ].
S = lists:foldl(fun ds:add/2, ds:new(), Data).  <i class="conum" data-value="2"></i><b>(2)</b>
ds:gui(S).                                      <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Data to spec.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Fold the data terms into the spec, starting with an empty spec.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Open a GUI on the result.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that when you open a GUI via <code>ds:gui/1</code>, you get the shell back
so you can keep on working. You can also open several GUI instances on
different data and keep them open. This might be useful if you want to
make comparisons.</p>
</div>
<div class="paragraph">
<p>In case you want to provide attributes with your data, use the add
function <a href="../ds.html#add-3"><code>ds:add/3</code></a>.</p>
</div>
<div class="listingblock">
<div class="title">Create a spec and add some values with attributes</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">S4 = ds:new().                                               <i class="conum" data-value="1"></i><b>(1)</b>
S5 = ds:add(an_atom, [{key, 1}, {ts, os:timestamp()}], S4).  <i class="conum" data-value="2"></i><b>(2)</b>
S6 = ds:add(123, [{key, 2}, {ts, os:timestamp()}], S5).      <i class="conum" data-value="3"></i><b>(3)</b>
S7 = ds:add({os:timestamp(), make_ref(), self()},            <i class="conum" data-value="4"></i><b>(4)</b>
            [{key, 3}, {ts, os:timestamp()}],
            S6).
ds:gui(S7).                                                  <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a new, empty spec.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add an atom with key 1 and the current timestamp.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add an integer with key 2 and the current timestamp.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Add a complex term with key 3 and the current timestamp.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Open a GUI on the result.</td>
</tr>
</table>
</div>
<div id="timestamp-formats" class="sidebarblock">
<div class="content">
<div class="title">Timestamp format support</div>
<div class="paragraph">
<p>Dumpsterl recognizes a number of different timestamp formats supplied
to the <code>ts</code> attribute. These are automatically converted to the same
internal timestamp format used to graph and print them in the GUI
report. Note that the probe stores the timestamps as is; conversion is
deferred to the GUI. It is thus possible to add support for a new
format and decode timestamps from an already existing dump without the
need to re-run the probe.</p>
</div>
<div class="paragraph">
<p>The currently supported formats are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gregorian seconds: the number of seconds since the start of year 0,
according to the rules of the Gregorian Calendar.</p>
</li>
<li>
<p>Gregorian milliseconds: the number of milliseconds since the start
of year 0. Note that the internal timestamp format of dumpsterl has
a precision of one second, so this will simply be truncated.</p>
</li>
<li>
<p>UNIX timestamp: the number of seconds since the UNIX epoch, the
start of the year 1970.</p>
</li>
<li>
<p>3-tuples in the format returned by <code>erlang:now()</code> and
<code>os:timestamp()</code>.</p>
</li>
<li>
<p>Date as a <code>{Year, Month, Day}</code> tuple.</p>
</li>
<li>
<p>Datetime as <code>{{Year, Month, Day}, {Hour,  Minutes, Seconds}}</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If your timestamps are in a different format, please make sure to
convert them to any of the supported ones listed above. When using the
Probe API, this is possible via using a <code>fun()</code> as the <code>ts</code> attribute
spec.</p>
</div>
<div class="paragraph">
<p>Timestamp attributes in unsupported formats will not cause problems in
the probe, and will be discarded by the GUI.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Two specs can be joined with the function
<a href="../ds.html#join-2"><code>ds:join/2</code></a>. Building on the results of the
previous examples:</p>
</div>
<div class="listingblock">
<div class="title">Join specs into one</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">Sj0 = ds:join(S, S3).
Sj = ds:join(Sj0, S7).
ds:gui(Sj).</code></pre>
</div>
</div>
<div class="paragraph">
<p>The information in this joint spec will be the same as if you have
added all the terms into a single spec. Adding terms to different
specs and joining them later opens the door to Map-Reduce style
parallelization of the spec flow. This is in fact exactly how the
probe is parallelized.</p>
</div>
</div>
<div class="sect4">
<h5 id="_post_processing_the_spec">Post-processing the spec</h5>
<div class="paragraph">
<p>Up until this point, we have been working with &#8220;raw&#8221; spec trees.  By
referring to these specs as raw, we mean that they are in an optimal
form for the <code>add</code> and <code>join</code> functions (and the probing process in
general) to operate. In particular:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Each tree has all the abstract type nodes starting from <code>term</code> that
are needed to reach the actual types of each added data instance.</p>
</li>
<li>
<p>Meta-data bookkeeping is only done in the leaf nodes that actually
&#8220;absorb&#8221; the data terms.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To demonstrate the difference that step 1 means, let&#8217;s look at the
type definition derived from the joint spec we arrived at above. To do
this, we use the function
<a href="../ds.html#pretty_print-1"><code>ds:pretty_print/1</code></a>. In contrast with
all the previous examples, here we show the Erlang shell prompt and
the output as well:</p>
</div>
<div class="listingblock">
<div class="title">Pretty-print a raw spec</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">&gt; io:put_chars(ds:pretty_print(Sj)).
  {{number(), number(), number()}, reference(), pid()}
| [{number(), pid()} | atom()]
| number()
| atom()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let us now post-process the spec via the function
<a href="../ds.html#postproc-1"><code>ds:postproc/1</code></a>.  This will perform the
following transformations on the spec tree:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>compact the tree by cutting empty abstract types;</p>
</li>
<li>
<p>propagate and join metadata up from the leaf nodes;</p>
</li>
<li>
<p>sort the children of unions by decreasing count.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The pretty-printed result will be a bit different:</p>
</div>
<div class="listingblock">
<div class="title">Pretty-print a post-processed spec</div>
<div class="content">
<pre class="highlight"><code class="language-erlang" data-lang="erlang">&gt; Sp = ds:postproc(Sj).
&gt; io:put_chars(ds:pretty_print(Sp)).
  byte()
| atom()
| [atom() | {byte(), pid()}]
| {{char(), char(), char()}, reference(), pid()}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is apparent that the order of subtypes in the toplevel union type
has changed. We can also see that all the <code>number()</code> types have been
changed to the most specific subtype that fits the data. This is the
result of cutting out those abstract types that did not absorb any
terms by themselves, and had only one subtype as their child.</p>
</div>
<div class="paragraph">
<p>What is not so apparent from the above is that the statistics (e.g.,
the count of terms in each node) have been propagated upwards into the
abstract nodes. Only after this step do the parent nodes contain the
correct occurrence counts.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The GUI, when loading a spec, expects a &#8220;raw&#8221; spec tree. It
will automatically perform the post-processing step.</p>
</div>
<div class="paragraph">
<p>While using the dumpsterl probe and the GUI, you normally do not need
to be aware of post-processing, as it will be handled automatically.
However, when manipulating specs by hand, you need to be aware of this
step. In particular, you cannot <code>add</code> or <code>join</code> specs that have been
post-processed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Post-processing the spec is not an idempotent operation. Running
<code>ds:postproc/1</code> on a spec that is already the result of this function
will lead to undefined results (false counts and statistics).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_type_system_of_dumpsterl">3. The type system of dumpsterl</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dumpsterl implements <strong>predicate typing</strong>. This simply means that
for each term considered, it follows a decision tree of predicate
functions to arrive at the most specific type that fits the term. The
below graph shows this decision tree but not the predicate functions.</p>
</div>
<div class="paragraph">
<div class="title">Erlang type hierarchy as seen by dumpsterl</div>
<p><span class="image"><img src="images/type_hierarchy.png" alt="type hierarchy"></span></p>
</div>
<div class="paragraph">
<p>The boxes marked with light blue are <strong>generic types</strong>. They are types
that are parameterized by further types. We call these parameters
<strong>attributes</strong>. These are shown in the grey boxes connected to them. For
example, the list type has a single attribute, specifying the type of
the items of the list. Other generic types have other attributes.</p>
</div>
<div class="paragraph">
<p>From a strict type hierarchy point of view, generic types are leaf
nodes, since their children belong to a different type domain. They do
not specify the type of the whole term, rather they specify the type
of an attribute. The attribute&#8217;s type spec is again rooted at the node
<strong>term</strong>, so the tree is recursive.</p>
</div>
<div class="sect2">
<h3 id="_kinds_a_k_a_meta_types">3.1. Kinds, a.k.a. meta-types</h3>
<div class="paragraph">
<p>Each type belongs to one of three kinds, or meta-types.</p>
</div>
<div class="paragraph">
<p>A <strong>generic</strong> type is parameterized by further types, called attributes.
A list is really a list of something, a list of its elements, so the
attribute of a list is the type of its elements.  Generic types
include lists, tuples, records and maps.</p>
</div>
<div class="paragraph">
<p>A <strong>union</strong> type is, by its nature, a union of subtypes.  Such a type
does not fit into a single node of the type hierarchy, it can only be
represented as a union of types. Each actual term belongs to exactly
one of the subtypes, which are mutually exclusive. For example,
<code>integer()</code> is a union type, because each actual integer is either a
negative or a non-negative integer.</p>
</div>
<div class="paragraph">
<p>An <strong>ordinary</strong> type is similar to a union, but it may or may not have
further sub-types. Any actual data term either belongs to one of those
sub-types, or, if neither of their predicates is true, is absorbed by
this type. For example, <code>non_neg_integer</code> is an ordinary type, because
there exist non-negative integers that do not fit into its only
subtype <code>char()</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="spec">3.2. The spec</h3>
<div class="paragraph">
<p>All the information collected by dumpsterl is represented by a data
structure called the <strong>spec</strong>. This is what the probe and the API
functions generate, and what the GUI consumes and navigates.</p>
</div>
<div class="paragraph">
<p>The spec is a tree structure that mirrors the type hierarchy. The tree
is formed by nodes that are 3-tuples:<br>
<code>{Class, Data, Children}</code>. Each tree node is decorated with meta-data
stored in the <code>Data</code> field. As the probe goes through the terms, each
one is added to the spec, creating new child nodes and updating
existing ones as needed.</p>
</div>
<div class="paragraph">
<p>The below figure shows a graphical representation of the spec tree for
the type defined in Erlang type syntax as:<br>
<code>atom() | [{[byte()], char()}]</code></p>
</div>
<div class="paragraph">
<div class="title">Example spec tree structure</div>
<p><span class="image"><img src="images/spec_tree.png" alt="spec tree"></span></p>
</div>
<div class="paragraph">
<p>For types that are not generic, the child nodes correspond to
subtypes.  These are marked with <strong>alt</strong> (&#8220;alternative&#8221;) in the figure.
The children of generic types specify the types of each attribute. The
list of attributes is specific to each generic type. For example, a
list has one attribute: the type of its items. A tuple has an
attribute for each field. These are marked with <strong>attr</strong> (&#8220;attribute&#8221;).</p>
</div>
<div class="sect3">
<h4 id="_data_in_the_spec_nodes">3.2.1. Data in the spec nodes</h4>
<div class="paragraph">
<p>In each type node of the spec tree, dumpsterl gathers and maintains
various meta-data and statistics about the values at that point.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A count of the terms, so dumpsterl can report the occurrences at all
levels and for all alternatives.</p>
</li>
<li>
<p>A statistical sampling of terms. The implementation ensures that the
samples are statistically representative, which means that it is
possible to deduce statistical properties of the whole population by
looking at the samples. In particular, there are two properties of
the sampling algorithm that are conducive to this:</p>
<div class="ulist">
<ul>
<li>
<p>Each value is selected for sampling with equal probability.</p>
</li>
<li>
<p>A value is either never selected or always selected, so that
it makes sense to count the occurrences of selected values.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A cardinality estimate. With the help of this, we can tell if a
certain field has a unique value in each term, or only takes a
limited set of values. Dumpsterl implements the
<a href="http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf">Hyperloglog
algorithm</a>, which is the state of the art in cardinality estimation.</p>
</li>
<li>
<p>Edges of the value domain, termed &#8220;points of interest&#8221; in the
codebase and displayed under the report heading &#8220;Extremes&#8221;. These
are implemented with possible future extension in mind; currently
limited to <code>min</code> and <code>max</code> by value. (Further possibilities would
be: first and last seen by timestamp; first and last by key.)</p>
</li>
<li>
<p>There is extra data that is specific to each type:</p>
<div class="ulist">
<ul>
<li>
<p>records: attribute list and where they come from</p>
</li>
<li>
<p>lists: length distribution histogram</p>
</li>
<li>
<p>bitstrings and binaries: size distribution histogram</p>
</li>
<li>
<p>atoms: an exhaustive dictionary of values with their counts and
extremes;</p>
</li>
<li>
<p>the whole spec has its probe metadata in the root <code>term</code> node&#8217;s
extra data.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_developer_information">4. Developer information</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_testing">4.1. Testing</h3>
<div class="paragraph">
<p>Test dumpsterl by running</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EUnit tests via <code>make eunit</code>;</p>
</li>
<li>
<p>Common Test suites via <code>make ct</code>;</p>
</li>
<li>
<p>Dialyzer via <code>make dialyze</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first two are both run on <code>make tests</code>. All three are run on <code>make
check</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modules_and_call_dependencies">4.2. Modules and call dependencies</h3>
<div class="paragraph">
<p>The names of dumpsterl&#8217;s modules all begin with <code>ds</code>. The modules
belong to the following groups:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Interface
</td>
<td class="hdlist2">
<p><code>ds</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Spec core
</td>
<td class="hdlist2">
<p><code>ds_spec</code> <code>ds_types</code> <code>ds_records</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Statistics
</td>
<td class="hdlist2">
<p><code>ds_stats</code> <code>ds_sampler</code> <code>ds_hyperloglog</code> <code>ds_pvattrs</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Probe
</td>
<td class="hdlist2">
<p><code>ds_shell</code> <code>ds_probe</code> <code>ds_progress</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
GUI
</td>
<td class="hdlist2">
<p><code>ds_gui</code> <code>ds_reports</code> <code>ds_graphics</code> <code>ds_zipper</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Support
</td>
<td class="hdlist2">
<p><code>ds_opts</code> <code>ds_utils</code></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Module call dependencies (auto-generated from source)</div>
<p><span class="image"><img src="images/module_deps.png" alt="module deps"></span></p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-05-25 14:19:20 CEST
</div>
</div>
</body>
</html>